<!DOCTYPE html>
<html lang="it">

<head>
    <title>
        Home Admin
    </title>
    <meta charset="UTF-8">
    <!-- to be responsive to mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-png" href="img/logo.png" />
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Icons -->
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- CSS personalizzato -->
    <link rel="stylesheet" href="css/style.css">
    <!-- bootstap scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script src="js/angular.js"></script>
</head>

<body ng-app="appAdmin" ng-controller="controllerAdmin">
    <div class="contact-section">
        <div class="container">
            <div class="row-fluid">
                <div class="col-sm-12 col-md-4 col-md-offset-4">
                    <form>
                        <div id="contact-form" class="form-container" align="center" data-form-container>
                            <div class="row">
                                <h2 class="text-center"><span>Benvenuto
                            <strong><%= user.nome %>!</strong></span></h2>
                                <hr />
                                <div class="image" align="center">
                                    <img class="image-circle img-rounded img-responsive" src="img/avatar.png" alt="avatar admin">
                                </div>
                                <div class="col-xs-12" align="center">
                                    <ul class="list-group">
                                        <li class="list-group-item "><strong>Username:</strong>
                                            <%= user.username %>
                                        </li>
                                        <li class="list-group-item"><strong>Email:</strong>
                                            <%= user.email %>
                                        </li>
                                        <li class="list-group-item"><strong>Nome:</strong>
                                            <%= user.nome %>
                                        </li>
                                        <li class="list-group-item"><strong>Cognome:</strong>
                                            <%= user.cognome %>
                                        </li>
                                        <li class="list-group-item"><strong>Matricola:</strong>
                                            <%= user.matricola %>
                                        </li>
                                    </ul>

                                </div>
                                <button type="button" ng-click="ShowHide1()" class="btn btn-sm  btn-info"><strong> {{activityC}} Corsi</strong> </button>
                                <button type="button" ng-click="ShowHide2()" class="btn btn-sm  btn-info"><strong> {{activityD}} Docenti </strong></button>
                                <br><br>
                                <a href="/logout" class="btn btn-sm  btn-info" role="button"><strong>Log Out</strong></a>
                            </div>
                    </form>
                    </div>
                </div>
            </div>
        </div>


        <div class="row " ng-show="IsVisible1">
            <form>
                <div id="contact-form" class="form-container" align="center" data-form-container>
                    <div class="row">
                        <div class="col-md-12 col-sm-75">

                            <% if (tuoiCorsi.length > 0) { %>
                                <h3 class="text-center"><span>Piano studi
                                        <strong><%= user.codFacoltà %></strong></span>
                                </h3>
                                <hr />
                                <div class="row">
                                    <h5 class="col-md-3"><strong>Nome:</strong></h5>
                                    <h5 class="col-md-3 text-center"><strong>Codice:</strong></h5>
                                    <h5 class="col-md-2 text-center"><strong>Matricola Docente:</strong></h5>
                                    <h5 class="col-md-2 text-center"><strong>CFU:</strong></h5>
                                    <h5 class="col-md-2 text-center"><strong>Anno:</strong></h5>
                                </div>
                                <% for(var i=0; i < tuoiCorsi.length; i++) { %>
                                    <div class="col-md-3">
                                        <p>
                                            <%= tuoiCorsi[i].nome %>
                                        </p>
                                    </div>
                                    <div class="col-md-3">
                                        <p>
                                            <%= tuoiCorsi[i].codice %>
                                        </p>
                                    </div>
                                    <div class="col-md-3">
                                        <p>
                                            <%= tuoiCorsi[i].matricolaP %>
                                        </p>
                                    </div>
                                    <div class="col-md-2">
                                        <p>
                                            <%= tuoiCorsi[i].cfu %>
                                        </p>
                                    </div>
                                    <div class="col-md-1 text-center">
                                        <p>
                                            <%= tuoiCorsi[i].anno %>
                                        </p>
                                    </div>
                                    <% } %>
                                        <% } %>
                        </div>
                    </div>
                </div>
            </form>

            <form>
                <div id="contact-form" class="form-container" align="center" data-form-container>
                    <div class="row">

                        <div class="col-md-4">
                            <h3 class="text-center"><strong>Crea corso</strong></h3>
                            <hr/>
                            <div>
                                <form action="/paginaAmministratore" method="POST">
                                    <input type="text" name="nome" placeholder="nome corso" required="required" class="form-control" /><br>
                                    <input type="text" name="codice" placeholder="codice corso" required="required" class="form-control" /><br>
                                    <select ng-model="prof" class="form-control">  
                                        <option value="" disabled selected hidden>Docente</option>
                                        <% docentiFacoltà.forEach(function(prof){%>
                                            <option value=<%=prof.matricola%>> <%= prof.nome %>  <%= prof.cognome %></option>
                                        <% })%>
                                </select><br>
                                    <input readonly value="{{prof}}" type="text" name="matricolaP" placeholder="matricola professore" required="required" class="form-control"
                                    /><br>
                                    <input type="number" name="cfu" placeholder="cfu" required="required" class="form-control" min="3" max="12" /><br>
                                    <input type="number" name="anno" placeholder="anno" required="required" class="form-control" min="1" max="3" /><br>
                                    <button type="submit" class="btn btn-md  btn-info" ng-show="IsVisible1"><strong>OK </strong></button>

                                </form>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <h3 class="text-center"><strong>Modifica corso</strong> </h3>
                            <div>
                                <div>
                                    <label><span>Corso da modificare:</span></label><br>
                                    <hr />
                                    <select ng-model="corso" class="form-control">
                                        <option value="" disabled selected hidden>Corso</option>
                                <% tuoiCorsi.forEach(function(tuoiCorsi){%>
                                    <option value=<%=tuoiCorsi.codice%>> <%= tuoiCorsi.nome %></option>
                                <% })%>
                                    </select><br>
                                    <form action="/paginaAmministratore/update" method="POST">
                                        <input readonly type="text" name="codice" placeholder="codice" required="required" class="form-control" value="{{corso}}"
                                        /><br>
                                        <select ng-model="profM" class="form-control">  
                                        <option value="" disabled selected hidden>Docente</option>
                                        <% docentiFacoltà.forEach(function(prof){%>
                                            <option value=<%=prof.matricola%>> <%= prof.nome %>  <%= prof.cognome %></option>
                                        <% })%>
                                </select><br>
                                        <input readonly value="{{profM}}" type="text" name="matricolaP" placeholder="matricola professore" required="required" class="form-control"
                                        /><br>
                                        <input type="number" name="cfu" placeholder="cfu" required="required" class="form-control" min="3" max="12" /><br>
                                        <input type="number" name="anno" placeholder="anno" required="required" class="form-control" min="1" max="3" /><br>
                                        <button type="submit" class="btn btn-md btn-info " name="updateB" ng-show="IsVisible1">OK</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <h3 class="text-center"><strong>Rimuovi corso </strong></h3>
                         <div>
                                <label><span>Corso da rimuovere:</span></label>   <hr />
                                <form action="/paginaAmministratore/remove" method="POST">
                                    <select ng-model="corsoR" class="form-control">
                                            <option value="" disabled selected hidden>Corso</option>
                                    <% tuoiCorsi.forEach(function(tuoiCorsi){%>
                                        <option value=<%=tuoiCorsi.codice%>> <%= tuoiCorsi.nome %></option>
                                    <% })%>
                            </select>
                                  
                                    <input type="hidden" name="codice" placeholder="codice" value="{{corsoR}}" /><br>
                                    <button type="submit" class="btn btn-md  btn-info" name="removeB">OK</button>
                                </form>
                            </div>
                        </div>

                    </div>
                </div>
            </form>

        </div>
        <br>
        <div class="row" ng-show="IsVisible2">
            <form>
                <div id="contact-form" class="form-container" align="center" data-form-container>
                    <div class="row">
                        <div class="col-md-12 col-sm-75" align="center">
                            <% if (docentiFacoltà.length > 0) { %>
                                <h3>
                                    <class="text-center"><span>Docenti:
                                        <strong><%= user.codFacoltà %></strong></span>
                                </h3>
                                <hr/>
                                <div class="row">
                                    <h5 class="col-md-3 text-center"><strong>Nome:</strong></h5>
                                    <h5 class="col-md-3 text-center"><strong>Cognome:</strong></h5>
                                    <h5 class="col-md-2 text-center"><strong>Matricola Docente:</strong></h5>
                                    <h5 class="col-md-2 text-center"><strong>Email:</strong></h5>
                                    <h5 class="col-md-2 text-center"><strong>Username:</strong></h5>
                                </div>
                                <% for(var i=0; i < docentiFacoltà.length; i++) { %>
                                    <div class="col-md-3">
                                        <p>
                                            <%= docentiFacoltà[i].nome %>
                                        </p>
                                    </div>
                                    <div class="col-md-3">
                                        <p>
                                            <%= docentiFacoltà[i].cognome %>
                                        </p>
                                    </div>
                                    <div class="col-md-2">
                                        <p>
                                            <%= docentiFacoltà[i].matricola %>
                                        </p>
                                    </div>
                                    <div class="col-md-2">
                                        <p>
                                            <%= docentiFacoltà[i].email %>
                                        </p>
                                    </div>
                                    <div class="col-md-2 ">
                                        <p>
                                            <%= docentiFacoltà[i].username %>
                                        </p>
                                    </div>
                                    <% } %>
                                        <% } %>
                        </div>

                    </div>
                </div>
            </form>
            <br>
            <form>
                <div id="contact-form" class="form-container" align="center" data-form-container>
                    <div class="row" align="center">
                        <div class="col-md-12  " align="center">
                            <h3 class="text-center"><span><strong>Registra Nuovo Docente</strong></span></h3>
                            <hr />
                            <div>
                                <% if (message) { %>
                                    <div>
                                        <h5 class="text-center text-danger">
                                            <%= message %>
                                        </h5>
                                    </div>
                                    <% } %>
                                        <form action="/paginaAmministratore/registrazioneDocente" method="POST">
                                            <div class="col-md-12 col-sm-75">
                                                <div class="row" align="center">

                                                    <div class="col-sm-6 form-group ">

                                                        <label>Nome</label>
                                                        <input name="nome" type="text" class="form-control" required="required" placeholder="nome">                                                        </div>
                                                    <div class="col-sm-6 form-group ">
                                                        <label>Cognome</label>
                                                        <input name="cognome" type="text" class="form-control" required="required" placeholder="cognome">

                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6 form-group">
                                                        <label>Username</label>
                                                        <input placeholder="nome.cognome" name="username" type="text" class="form-control" required="required">
                                                    </div>
                                                    <div class="col-sm-6 form-group">
                                                        <label>Password (temporanea)</label>
                                                        <input name="password" type="password" class="form-control" required="required" placeholder="password">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6 form-group">
                                                        <label>Data Nascita</label>
                                                        <input name="dataDiNascita" type="date" class="form-control" required="required" placeholder="data di nascita">
                                                    </div>
                                                    <div class="col-sm-6 form-group">
                                                        <label>Cellulare</label>
                                                        <input name="telefono" type="text" class="form-control" placeholder="cellulare">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label>Corso di Laurea</label>
                                                    <input name="codFacoltà" type="text" class="form-control" required="required" align="center" readonly value="<%= user.codFacoltà %>"
                                                        placeholder="codice Facoltà">
                                                </div>

                                                <br>
                                                <button type="submit" class="btn btn-lg btn-info">Invia</button>
                                            </div>
                                        </form>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>


</body>

</html>